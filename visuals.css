/* --- 1. TRANSLATION DB (LAYER 1) --- */
:root {
    /* English Strings */
    --t-start-en: "INITIALIZE SYSTEM"; 
    --t-save-en: "SYNC_DATA";
    --t-load-en: "RECALL_DATA";
    
    /* Chinese Strings */
    --t-start-cn: "ÂïüÂãïÁ≥ªÁµ±"; 
    --t-save-cn: "ÂêåÊ≠•Êï∏Êìö";
    --t-load-cn: "Âè¨ÂõûÊï∏Êìö";
}

/* Mapping Logic */
.lang-en { --u-start: var(--t-start-en); --u-save: var(--t-save-en); --u-load: var(--t-load-en); }
.lang-cn { --u-start: var(--t-start-cn); --u-save: var(--t-save-cn); --u-load: var(--t-load-cn); }

/* Automated Injection into Shell Buttons */
[data-t="start"]::before { content: var(--u-start); }
[data-t="save"]::before { content: var(--u-save); }
[data-t="load"]::before { content: var(--u-load); }

/* --- 2. THE NEON STAGE --- */

#stage {
    display: flex;
    justify-content: space-around;
    align-items: flex-end;
    min-height: 120px;
    padding-bottom: 20px;
    background: linear-gradient(180deg, #000 0%, #081008 100%);
    position: relative;
    overflow: hidden;
}

/* Scanline Effect Overlay */
#stage::after {
    content: " ";
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), 
                linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
    background-size: 100% 2px, 3px 100%;
    pointer-events: none;
    z-index: 10;
}

/* --- 3. SPRITE GEOMETRY DB --- */

.avatar-box {
    width: 60px;
    height: 80px;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: flex-end;
    z-index: 5;
}

.spr {
    width: 30px;
    height: 40px;
    position: absolute;
    bottom: 5px;
    animation: idle 1.5s infinite ease-in-out;
}

/* head layer */
.hd {
    width: 22px;
    height: 20px;
    background: #fca;
    position: absolute;
    left: 4px;
    top: 0;
    border-radius: 4px;
    border: 1px solid rgba(255,255,255,0.2);
}

/* body layer */
.bd {
    width: 20px;
    height: 22px;
    background: #eee;
    position: absolute;
    left: 5px;
    top: 18px;
    border-radius: 2px;
}

/* Job-specific costumes (Gradients) */
.j-Novice .bd   { background: linear-gradient(#fff, #999); }
.j-Swordman .bd { background: linear-gradient(#d84, #333); border: 1px solid #777; }
.j-Mage .bd     { background: linear-gradient(#4af, #003); }
.j-Thief .bd    { background: linear-gradient(#333, #606); }

/* Monster Definitions */
[data-mob="Poring"] .hd { background: #ff9999; border-radius: 50%; width: 26px; height: 24px; top: 15px; }
[data-mob="Poring"] .bd { display: none; }

[data-mob="Angeling"] .hd { 
    background: #fff; border-radius: 50%; width: 32px; height: 30px; 
    top: 5px; box-shadow: 0 0 15px #fff; 
}
[data-mob="Angeling"]::before { content: "üëº"; position: absolute; top: -15px; left: 18px; font-size: 12px; }

/* --- 4. ANIMATION & OVERLAYS --- */

/* Boss Warning (Neon Red Contrast) */
.warning-overlay {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(255, 0, 0, 0.2);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 100;
    animation: warn-flash 0.4s infinite alternate;
    border: 3px solid #ff3131;
    pointer-events: none;
}

.warning-text {
    color: #fff;
    font-weight: 900;
    font-size: 1.4rem;
    text-shadow: 0 0 10px #f00, 0 0 20px #f00;
    letter-spacing: 5px;
}

@keyframes idle {
    0%, 100% { transform: translateY(0) scaleX(1); }
    50% { transform: translateY(3px) scaleX(1.05); }
}

@keyframes warn-flash {
    from { opacity: 0.2; }
    to { opacity: 0.8; }
}

.anim-shake { animation: shake 0.2s both; }
@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-4px); }
    75% { transform: translateX(4px); }
}
