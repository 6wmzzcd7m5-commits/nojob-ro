<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>JOBLESS GAME</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="visuals.css">
</head>
<body class="lang-en">

<div id="app">
    <header class="panel" style="border-width: 2px;">
        <div class="flex" style="margin-bottom: 12px; border-bottom: 1px solid var(--neon); padding-bottom: 10px;">
            <div class="flex" style="gap: 12px;">
                <span class="c-n" style="font-size: 0.7rem; font-weight: bold;">EN</span>
                <label class="switch">
                    <input type="checkbox" id="lang-toggle" onchange="G.lang()">
                    <span class="slider"></span>
                </label>
                <span class="c-n" style="font-size: 0.7rem; font-weight: bold;">ä¸­</span>
            </div>
            <div class="flex" style="gap: 6px;">
                <button class="btn-sm" onclick="G.exp()" data-t="save"></button>
                <button class="btn-sm btn-red" onclick="G.wipe()">[WIPE_IDENTITY]</button>
            </div>
        </div>

        <div class="grid g-1">
            <div class="flex panel" style="border-style: dashed; margin: 0; padding: 8px; background: rgba(57, 255, 20, 0.05);">
                <b id="ui-job" class="c-n">LINKING...</b>
                <div class="c-n">BASE_LVL.<span id="ui-lvl">01</span></div>
                <div class="c-n">ZONE_FLR.<span id="ui-floor">01</span></div>
            </div>
            <div class="flex-col" style="gap: 5px; margin-top: 10px;">
                <progress id="hp-bar" value="0" max="100"></progress>
                <progress id="sp-bar" value="0" max="100"></progress>
            </div>
        </div>

        <div class="grid g-6" style="margin-top: 12px;">
            <div class="stat-cell">STR<b id="ui-str">1</b></div>
            <div class="stat-cell">AGI<b id="ui-agi">1</b></div>
            <div class="stat-cell">VIT<b id="ui-vit">1</b></div>
            <div class="stat-cell">INT<b id="ui-int">1</b></div>
            <div class="stat-cell">DEX<b id="ui-dex">1</b></div>
            <div class="stat-cell">LUK<b id="ui-luk">1</b></div>
        </div>

        <div class="grid g-5" style="margin-top: 5px; background: rgba(0,0,0,0.3);">
            <div class="stat-cell">ATK<br><span id="ui-atk">0</span></div>
            <div class="stat-cell">MATK<br><span id="ui-matk">0</span></div>
            <div class="stat-cell">HIT<br><span id="ui-hit">0</span></div>
            <div class="stat-cell">FLEE<br><span id="ui-flee">0</span></div>
            <div class="stat-cell">CRI<br><span id="ui-cri">0%</span></div>
        </div>
    </header>

    <section id="stage" class="panel">
        <div id="p-box" class="avatar-box"><div id="p-spr" class="spr"><div class="hd"></div><div class="bd"></div></div></div>
        <div id="e-box" class="avatar-box"><div id="e-spr" class="spr"><div class="hd"></div><div class="bd"></div></div></div>
    </section>

    <main id="ctl" class="grid">
        <button id="boot-btn" style="grid-column: span 2; padding: 40px; font-size: 1.1rem;" onclick="G.boot()">
            CONNECTING_TO_AEGIS_DB...
        </button>
    </main>

    <footer id="log" class="panel"></footer>
</div>

<script>
const el = i => document.getElementById(i);
const G = {
    p: null, s: { f:1, b:false, l:'en' },
    async boot() {
        try {
            const
