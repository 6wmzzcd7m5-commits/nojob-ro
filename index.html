<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Jobless RO: Ultimate</title>
    <style>
        :root {
            /* NEON GREEN THEME */
            --bg: #020502; --panel: #051a05; --border: #39ff14; 
            --text: #ccffcc; --highlight: #39ff14;
            --hp: #ff4444; --sp: #0088ff; 
            --p-bar: #39ff14; --e-bar: #ff4444; 
            --btn-bg: #0a2a0a; --btn-border: #39ff14; --rare: #ffeb3b; 
        }

        body {
            background: var(--bg); color: var(--text);
            font-family: 'Courier New', monospace;
            margin: 0; padding: 10px; display: flex; flex-direction: column; gap: 10px;
            max-width: 600px; margin: 0 auto; height: 100vh;
            text-shadow: 0 0 2px rgba(57, 255, 20, 0.3);
        }

        /* --- UI COMPONENTS --- */
        header {
            background: var(--panel); border: 1px solid var(--border);
            padding: 10px; box-shadow: 0 0 15px rgba(57, 255, 20, 0.2);
            flex-shrink: 0; border-radius: 4px;
        }

        .ctrl-row {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 10px; padding-bottom: 5px; border-bottom: 1px dashed #336633;
        }
        
        .left-group { display: flex; gap: 5px; align-items: center; }

        /* Restart Button */
        .btn-restart {
            background: #220000; border: 1px solid #ff4444; color: #ff4444;
            padding: 4px 8px; font-size: 10px; cursor: pointer; font-weight: bold;
        }
        .btn-restart:active { background: #ff0000; color: #000; }

        .toggle-box {
            display: flex; align-items: center; gap: 5px; font-size: 10px; cursor: pointer;
            border: 1px solid #225522; padding: 4px 8px; background: #001100; color: #888;
        }
        .toggle-box.active { border-color: var(--highlight); color: var(--highlight); background: #003300; }
        
        .speed-group { display: flex; gap: 2px; }
        .btn-speed {
            background: #001100; border: 1px solid #225522; color: #448844;
            padding: 4px 8px; font-size: 10px; cursor: pointer; font-family: inherit; font-weight: bold;
        }
        .btn-speed.active {
            background: #003300; border-color: var(--highlight); color: var(--highlight); 
        }

        .equip-row {
            display: grid; grid-template-columns: 1fr 1fr; gap: 5px; 
            margin-top: 8px; font-size: 10px; color: var(--rare);
            border-top: 1px dashed #336633; padding-top: 5px;
        }

        .stat-grid {
            display: grid; grid-template-columns: repeat(6, 1fr);
            gap: 2px; text-align: center; margin-top: 8px;
            border-top: 1px dashed #336633; padding-top: 5px;
        }
        .stat-box { font-size: 10px; color: #66aa66; }
        .stat-val { font-size: 12px; color: #fff; font-weight: bold; }

        /* Bars */
        progress {
            width: 100%; height: 8px; appearance: none; border: none;
            background: #112211; margin-top: 2px; display: block; border: 1px solid #224422;
        }
        progress::-webkit-progress-bar { background: #112211; }
        progress::-webkit-progress-value { transition: width 0.1s linear; }
        #hp-bar::-webkit-progress-value { background: var(--hp); }
        #sp-bar::-webkit-progress-value { background: var(--sp); }
        #atb-p::-webkit-progress-value { background: var(--p-bar); box-shadow: 0 0 5px var(--p-bar); }
        #atb-e::-webkit-progress-value { background: var(--e-bar); }

        /* Battle Area */
        #battle-ui {
            background: #051005; border: 1px solid #663333;
            padding: 10px; flex-shrink: 0; border-radius: 4px;
        }
        .enemy-title { color: #ff6666; font-weight: bold; text-align: center; text-transform: uppercase; letter-spacing: 1px; }
        .atb-row { display: flex; align-items: center; gap: 8px; font-size: 10px; margin-top: 5px; }

        /* Logs */
        main {
            flex-grow: 1; border: 1px solid var(--border); background: #000500;
            padding: 10px; overflow-y: auto; font-size: 12px;
            display: flex; flex-direction: column-reverse;
            box-shadow: inset 0 0 20px rgba(0,20,0,0.5);
        }
        .log-entry { margin-bottom: 4px; border-bottom: 1px solid #112211; padding-bottom: 2px; }
        .log-crit { color: #ffff00; font-weight: bold; }
        .log-dmg { color: #ff5555; }
        .log-win { color: var(--highlight); font-weight: bold; border-top: 1px dashed var(--highlight); padding-top: 5px; margin-top: 5px;}
        .log-loot { color: var(--rare); border: 1px solid var(--rare); padding